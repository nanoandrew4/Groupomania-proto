<html xmlns:th="https://www.thymeleaf.org">

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Exo' rel='stylesheet' type='text/css'/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" type="text/javascript"></script>

    <link href="../static/css/logo.css" rel="stylesheet" th:href="@{/css/logo.css}" type="text/css"/>
</head>

<body>
<form action="#" th:action="@{${T(com.greenapper.controllers.CampaignController).CAMPAIGN_UPDATE_URI}}"
      th:fragment="campaignTypeChange" th:method="get" th:object="${campaign}">
    <label th:text="#{campaign.type}">Campaign type</label>
    <select id="type" name="type" onchange="this.form.submit()">
        <option th:each="campaignType : ${T(com.greenapper.enums.CampaignType).values()}"
                th:selected="${campaignType.displayName} == *{type.displayName}" th:text="${campaignType.displayName}"
                th:value="${campaignType.displayName}">CampaignType
        </option>
    </select>
</form>

<div class="form-group" th:fragment="campaignFields">
    <div hidden="hidden">
        <input class="form-control" th:field="*{id}"/>
    </div>
    <div class="form-group col-4">
        <label th:text="#{campaign.title}">Title</label>
        <input autofocus="autofocus" class="form-control" th:field="*{title}"/>
    </div>
    <div class="form-group col-4">
        <label th:text="#{campaign.description}">Description</label>
        <input class="form-control" th:field="*{description}"/>
    </div>
    <div class="form-group col-4">
        <label th:text="#{campaign.image}">Campaign image</label>
        <input accept="image/x-png,image/jpeg,image/jpg" type="file" name="campaignImage"/>
    </div>
    <div class="form-group col-4">
        <label th:text="#{campaign.startDate}">Campaign start date</label>
        <div class="input-group date" data-date-format="dd-mm-yyyy">
            <input class="form-control" placeholder="dd-mm-yyyy" th:field="*{startDate}" type="text">
            <div class="input-group-addon">
                <span class="glyphicon glyphicon-calendar"></span>
            </div>
        </div>
    </div>
    <div class="form-group col-4">
        <label th:text="#{campaign.endDate}">Campaign end date</label>
        <div class="input-group date" data-date-format="dd-mm-yyyy">
            <input class="form-control" placeholder="dd-mm-yyyy" th:field="*{endDate}" type="text">
            <div class="input-group-addon">
                <span class="glyphicon glyphicon-calendar"></span>
            </div>
        </div>
    </div>
    <div class="form-group col-4">
        <label th:text="#{campaign.quantity}">Available quantity</label>
        <input class="form-control" th:field="*{quantity}"/>
    </div>
    <div hidden="hidden">
        <input class="form-control" th:field="*{type}"/>
    </div>
    <div class="form-group col-4">
        <label th:text="#{campaign.showAfterExpiration}">Show after expiration</label>
        <select id="campaignExpirationDropdown" name="campaignExpirationDropdown" th:field="*{showAfterExpiration}">
            <option id="showAfterExpiration" th:text="#{campaign.showAfterExpiration.true}"
                    th:value="true"></option>
            <option id="noShowAfterExpiration" th:text="#{campaign.showAfterExpiration.false}"
                    th:value="false"></option>
        </select>
    </div>

    <script type="text/javascript">
            $(function () {
                 $('.input-group.date').datepicker({format: "dd-mm-yyyy"});
            });

    </script>
</div>
<div class="text-center" th:fragment="submitCampaign">
    <input class="btn btn-primary" th:value="#{campaign.submit}" type="submit"/>
</div>
</body>
</html>